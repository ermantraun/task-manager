# Task manager

–ü—Ä–æ–µ–∫—Ç **task manager** ‚Äî —ç—Ç–æ backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI, SQLAlchemy –∏ Dishka (–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).
–û–Ω —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Å —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

---

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API
- **SQLAlchemy** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- **Dishka** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Pytest** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
task-manager/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îî‚îÄ‚îÄ v1/
‚îÇ           ‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –º–∞—Ä—à—Ä—É—Ç—ã, HTTP-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ           ‚îú‚îÄ‚îÄ application/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ task/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ dto.py
‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ interactors.py
‚îÇ           ‚îÇ       ‚îú‚îÄ‚îÄ interfaces.py
‚îÇ           ‚îÇ       ‚îî‚îÄ‚îÄ validators.py
‚îÇ           ‚îú‚îÄ‚îÄ domen/                # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (—á–∏—Å—Ç—ã–µ Python-–∫–ª–∞—Å—Å—ã)
‚îÇ           ‚îú‚îÄ‚îÄ infrastructure/       # –†–∞–±–æ—Ç–∞ —Å –ë–î, —Ñ–∞–π–ª–∞–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ           ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îÇ           ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repositories.py
‚îÇ           ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è FastAPI, PostgreSQL
‚îÇ           ‚îú‚îÄ‚îÄ ioc.py                # DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Dishka
‚îÇ           ‚îú‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ           ‚îú‚îÄ‚îÄ migrations/           # –ú–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îÇ           ‚îî‚îÄ‚îÄ test_handlers.py      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ HTTP-–∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öô –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
class Config(BaseModel):
    postgres: PostgresConfig
    fastapi: FastApiConfig

  
```

–ö–∞–∂–¥–∞—è —Å–µ–∫—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä `.env`:

```dotenv
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_DB=postgres

```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pytest
```

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **—á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:

- **handlers** ‚Äî –≤–Ω–µ—à–Ω–∏–π —Å–ª–æ–π, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Å –∫–ª–∏–µ–Ω—Ç–æ–º (HTTP).
- **application** ‚Äî –ø—Ä–∏–∫–ª–∞–¥–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω–∞—è –ø–æ –¥–æ–º–µ–Ω–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º.
- **domen** ‚Äî —è–¥—Ä–æ —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏.
- **infrastructure** ‚Äî –∞–¥–∞–ø—Ç–µ—Ä—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–∞–º –∏ –¥—Ä—É–≥–∏–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º.
- **ioc** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

---

## üöÄ –ó–∞–ø—É—Å–∫

```bash
uvicorn backend.api.v1.main:app --reload
```

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

–¢—Ä–µ–±—É–µ—Ç—Å—è Docker –∏ Docker Compose.

1. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–æ–∑–¥–∞–π—Ç–µ `.env` —Å –Ω—É–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (—Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏ –≤ config.py).
2. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   docker compose up --build
   ```
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: http://localhost:8000/docs
4. Postgres: –ø–æ—Ä—Ç 5432 (user: postgres / password: password / db: postgres)

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
docker compose down
```

–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```bash
docker compose down -v
```

–ì–æ—Ä—è—á–∏—Ö –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–≤ –∫–æ–¥–∞ –Ω–µ—Ç (–æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ). –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å :ro —É volume –≤ backend.
